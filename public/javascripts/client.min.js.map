{"version":3,"file":"client.min.js","sources":["client.js"],"sourcesContent":["const httpJSONRequest = function(url){\r\n    return new Promise(function(resolve, reject)\r\n    {\r\n        let xhr = new XMLHttpRequest();\r\n\r\n        xhr.withCredentials = false;\r\n        xhr.open('GET', url, true);\r\n        xhr.send();\r\n        xhr.addEventListener(\"readystatechange\", processRequest, false);\r\n\r\n        function processRequest(e) {\r\n            if (xhr.readyState == 4 && xhr.status == 200) {\r\n                let response = JSON.parse(xhr.responseText);\r\n                resolve(response);\r\n            }else if (xhr.readyState == 4) {\r\n                console.log(xhr.readyState);\r\n                console.log(xhr.status);\r\n                reject(Error(\"Something went wrong with the request \\n\\t\\t\\t\\t\\t XHR Status: \" + xhr.status));\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nhttpJSONRequest(\"http://localhost:8081/testIP\")\r\n    .then((json) => document.getElementById(\"col1\").appendChild(document.createElement('pre')).innerHTML = syntaxHighlight(json));\r\n\r\nhttpJSONRequest(\"http://localhost:8081/numbeo\")\r\n    .then(function(json)  {\r\n        var width = 500,\r\n            barHeight = 20;\r\n        var x = d3.scaleLinear()\r\n            .range([0, 500]);\r\n\r\n        var chart = d3.select(\".chart\")\r\n            .attr(\"width\", width)\r\n            .attr(\"height\", barHeight * json[0].prices.length);\r\n\r\n        var bar = chart.selectAll(\"g\")\r\n            .data(json[0].prices)\r\n            .enter().append(\"g\")\r\n            .attr(\"transform\", function(d, i) { return \"translate(0,\" + i * barHeight + \")\"; });\r\n\r\n        bar.append(\"rect\")\r\n            .attr(\"width\", function(d) {return d.average_price;})\r\n            .attr(\"height\", barHeight);\r\n\r\n        bar.append(\"text\")\r\n            .attr(\"x\", function(d) { return 500; })\r\n            .attr(\"y\", barHeight / 2)\r\n            .attr(\"dy\", \".35em\")\r\n            .text(function(d) { return d.item_name; });\r\n        document.getElementById(\"col2\").appendChild(document.createElement('pre')).innerHTML = syntaxHighlight(json[0]);\r\n    });\r\n\r\n// Pretty JSON\r\n\r\n\r\nfunction syntaxHighlight(json) {\r\n    if (typeof json != 'string') {\r\n        json = JSON.stringify(json, undefined, 2);\r\n    }\r\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\r\n        var cls = 'number';\r\n        if (/^\"/.test(match)) {\r\n            if (/:$/.test(match)) {\r\n                cls = 'key';\r\n            } else {\r\n                cls = 'string';\r\n            }\r\n        } else if (/true|false/.test(match)) {\r\n            cls = 'boolean';\r\n        } else if (/null/.test(match)) {\r\n            cls = 'null';\r\n        }\r\n        return '<span class=\"' + cls + '\">' + match + '</span>';\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n"],"names":["httpJSONRequest","url","Promise","resolve","reject","xhr","XMLHttpRequest","withCredentials","open","send","addEventListener","processRequest","e","readyState","status","response","JSON","parse","responseText","log","Error","then","json","document","getElementById","appendChild","createElement","innerHTML","syntaxHighlight","width","barHeight","x","d3","scaleLinear","range","chart","select","attr","prices","length","bar","selectAll","data","enter","append","d","i","average_price","text","item_name","stringify","undefined","replace","match","cls","test"],"mappings":"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"}